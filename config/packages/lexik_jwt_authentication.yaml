lexik_jwt_authentication:
  secret_key: "%env(resolve:JWT_SECRET_KEY)%"
  public_key: "%env(resolve:JWT_PUBLIC_KEY)%"
  pass_phrase: "%env(JWT_PASSPHRASE)%"
  token_ttl: 3600 # in seconds

  # --- NOUVEAU: Configuration des extracteurs de jetons ---
  token_extractors:
    # 1. Extractor for the HttpOnly Cookie
    cookie:
      # The name of your HttpOnly cookie where the JWT is stored
      name: authToken # <--- MAKE SURE THIS MATCHES THE COOKIE NAME YOU SET IN YOUR LISTENER

    # 2. Extractor for the Authorization Bearer header (optional, but good for flexibility)
    #    You can keep this if you want to support both header and cookie authentication.
    authorization_header:
      enabled: true
      prefix: Bearer
      name: Authorization

  api_platform:
    check_path: /api/login_check
    username_path: username
